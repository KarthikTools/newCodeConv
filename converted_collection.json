{
  "info": {
    "name": "Mobiliser_AvionRewards_RegressionSuite",
    "_postman_id": "9da411d5-90ac-41c4-bb5c-a3e0f11fa1bb",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "LibraryFunctions",
      "description": "Test suite: LibraryFunctions",
      "item": [
        {
          "name": "SetupScriptLibrary",
          "description": "Test case: SetupScriptLibrary",
          "item": [
            {
              "name": "SetupScriptLibrary",
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Pre-request script",
                      "// Set up required headers and environment variables",
                      ""
                    ]
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test script converted from Groovy",
                      "",
                      "// Define the GLF class and its methods",
                      "class GLF {",
                      "    constructor(log, context, testRunner) {",
                      "        this.log = log;",
                      "        this.context = context;",
                      "        this.testRunner = testRunner;",
                      "    }",
                      "    ",
                      "    // Function to enable and disable a test step",
                      "    enableDisableTestStep(testStepName, enabled) {",
                      "        console.log(`Setting ${testStepName} to ${enabled ? 'enabled' : 'disabled'}`);",
                      "    }",
                      "    ",
                      "    // SignIn function",
                      "    SignInAvion(cardNumber, env) {",
                      "        console.log(`Signing in with card number: ${cardNumber} in environment: ${env}`);",
                      "        const sessionID = 'JSESSIONID=DummySessionID';",
                      "        return sessionID;",
                      "    }",
                      "    ",
                      "    // Environment functions",
                      "    MobiliserEnvType() {",
                      "        return pm.environment.get('envType');",
                      "    }",
                      "}",
                      "",
                      "// Initialize the GLF class",
                      "const glf = new GLF(console, pm, pm);",
                      "",
                      "// Test GLF class initialization",
                      "pm.test('GLF class initialized', function() {",
                      "    pm.expect(glf).to.not.be.undefined;",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    ""
                  ]
                },
                "description": "Converted from Groovy script: SetupScriptLibrarySetupScriptLibrary"
              }
            }
          ]
        },
        {
          "name": "TestTemplate",
          "description": "Test case: TestTemplate",
          "item": [
            {
              "name": "FunctionLibrary",
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Pre-request script",
                      "// Set up required headers and environment variables",
                      ""
                    ]
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test script converted from Groovy",
                      "",
                      "// Define the GLF class and its methods",
                      "class GLF {",
                      "    constructor(log, context, testRunner) {",
                      "        this.log = log;",
                      "        this.context = context;",
                      "        this.testRunner = testRunner;",
                      "    }",
                      "    ",
                      "    // Function to enable and disable a test step",
                      "    enableDisableTestStep(testStepName, enabled) {",
                      "        console.log(`Setting ${testStepName} to ${enabled ? 'enabled' : 'disabled'}`);",
                      "    }",
                      "    ",
                      "    // SignIn function",
                      "    SignInAvion(cardNumber, env) {",
                      "        console.log(`Signing in with card number: ${cardNumber} in environment: ${env}`);",
                      "        const sessionID = 'JSESSIONID=DummySessionID';",
                      "        return sessionID;",
                      "    }",
                      "    ",
                      "    // Environment functions",
                      "    MobiliserEnvType() {",
                      "        return pm.environment.get('envType');",
                      "    }",
                      "}",
                      "",
                      "// Initialize the GLF class",
                      "const glf = new GLF(console, pm, pm);",
                      "",
                      "// Test GLF class initialization",
                      "pm.test('GLF class initialized', function() {",
                      "    pm.expect(glf).to.not.be.undefined;",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    ""
                  ]
                },
                "description": "Converted from Groovy script: FunctionLibraryFunctionLibrary"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "CashbackAndSaving",
      "description": "Test suite: CashbackAndSaving",
      "item": [
        {
          "name": "TC_01_TestCashbackAndSaving_2000k",
          "description": "Test case: TC_01_TestCashbackAndSaving_2000k",
          "item": [
            {
              "name": "InputData",
              "type": "properties",
              "variables": [
                {
                  "key": "CardNumber",
                  "value": "4519821569835616",
                  "enabled": true
                },
                {
                  "key": "env",
                  "value": "UAT",
                  "enabled": true
                }
              ],
              "note": "Variables defined in step 'InputData'"
            },
            {
              "name": "InSetup",
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Pre-request script",
                      "// Set up required headers and environment variables",
                      ""
                    ]
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test script converted from Groovy",
                      "",
                      "// Define the GLF class and its methods",
                      "class GLF {",
                      "    constructor(log, context, testRunner) {",
                      "        this.log = log;",
                      "        this.context = context;",
                      "        this.testRunner = testRunner;",
                      "    }",
                      "    ",
                      "    // Function to enable and disable a test step",
                      "    enableDisableTestStep(testStepName, enabled) {",
                      "        console.log(`Setting ${testStepName} to ${enabled ? 'enabled' : 'disabled'}`);",
                      "    }",
                      "    ",
                      "    // SignIn function",
                      "    SignInAvion(cardNumber, env) {",
                      "        console.log(`Signing in with card number: ${cardNumber} in environment: ${env}`);",
                      "        const sessionID = 'JSESSIONID=DummySessionID';",
                      "        return sessionID;",
                      "    }",
                      "    ",
                      "    // Environment functions",
                      "    MobiliserEnvType() {",
                      "        return pm.environment.get('envType');",
                      "    }",
                      "}",
                      "",
                      "// Initialize the GLF class",
                      "const glf = new GLF(console, pm, pm);",
                      "",
                      "// Test GLF class initialization",
                      "pm.test('GLF class initialized', function() {",
                      "    pm.expect(glf).to.not.be.undefined;",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Cookie",
                    "value": "{{JSESSIONID}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    ""
                  ]
                },
                "description": "Converted from Groovy script: InSetupInSetup"
              }
            },
            {
              "name": "RunTest",
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Pre-request script",
                      "// Set up required headers and environment variables",
                      ""
                    ]
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test script converted from Groovy",
                      "",
                      "// Define the GLF class and its methods",
                      "class GLF {",
                      "    constructor(log, context, testRunner) {",
                      "        this.log = log;",
                      "        this.context = context;",
                      "        this.testRunner = testRunner;",
                      "    }",
                      "    ",
                      "    // Function to enable and disable a test step",
                      "    enableDisableTestStep(testStepName, enabled) {",
                      "        console.log(`Setting ${testStepName} to ${enabled ? 'enabled' : 'disabled'}`);",
                      "    }",
                      "    ",
                      "    // SignIn function",
                      "    SignInAvion(cardNumber, env) {",
                      "        console.log(`Signing in with card number: ${cardNumber} in environment: ${env}`);",
                      "        const sessionID = 'JSESSIONID=DummySessionID';",
                      "        return sessionID;",
                      "    }",
                      "    ",
                      "    // Environment functions",
                      "    MobiliserEnvType() {",
                      "        return pm.environment.get('envType');",
                      "    }",
                      "}",
                      "",
                      "// Initialize the GLF class",
                      "const glf = new GLF(console, pm, pm);",
                      "",
                      "// Test GLF class initialization",
                      "pm.test('GLF class initialized', function() {",
                      "    pm.expect(glf).to.not.be.undefined;",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Cookie",
                    "value": "{{JSESSIONID}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    ""
                  ]
                },
                "description": "Converted from Groovy script: RunTestRunTest"
              }
            },
            {
              "name": "summary",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Cookie",
                    "value": "{{JSESSIONID}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "channel",
                    "value": "WEB"
                  },
                  {
                    "key": "locale",
                    "value": "en"
                  },
                  {
                    "key": "clientIdType",
                    "value": "CLIENT_CARD_NUM"
                  },
                  {
                    "key": "requestId",
                    "value": "75e5f78f-18ce-498c-bb22-75c44833a188"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "description": "Converted from ReadyAPI",
                "url": {
                  "raw": "https://mobile.sterbcroyalbank.com/ps/mobiliser/RewardsChannelInteractions/v1/offers/commission/summary",
                  "protocol": "https",
                  "host": [
                    "mobile",
                    "sterbcroyalbank",
                    "com"
                  ],
                  "path": [
                    "ps",
                    "mobiliser",
                    "RewardsChannelInteractions",
                    "v1",
                    "offers",
                    "commission",
                    "summary"
                  ]
                }
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Test script for summary request",
                      "pm.test('Status code is 200', function() {",
                      "    pm.response.to.have.status(200);",
                      "});"
                    ]
                  }
                }
              ],
              "response": []
            },
            {
              "name": "InputData",
              "type": "properties",
              "variables": [
                {
                  "key": "CardNumber",
                  "value": "4519821569835616",
                  "enabled": true
                },
                {
                  "key": "env",
                  "value": "UAT",
                  "enabled": true
                }
              ],
              "note": "Variables defined in step 'InputData'"
            }
          ]
        }
      ]
    },
    {
      "name": "API Endpoints",
      "description": "Collection of all API endpoints from the ReadyAPI project",
      "item": [
        {
          "name": "Mobiliser - MobileSignIn",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "https://mobile.sterbcroyalbank.com/service/rbc/MobileSignIn",
              "protocol": "https",
              "host": [
                "mobile",
                "sterbcroyalbank",
                "com"
              ],
              "path": [
                "service",
                "rbc",
                "MobileSignIn"
              ]
            },
            "description": "Converted from ReadyAPI REST request",
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "xml"
                }
              }
            }
          }
        },
        {
          "name": "Mobiliser - search",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "https://mobile.sterbcroyalbank.com/ps/mobiliser/RewardsChannelInteractions/v1/offers/search",
              "protocol": "https",
              "host": [
                "mobile",
                "sterbcroyalbank",
                "com"
              ],
              "path": [
                "ps",
                "mobiliser",
                "RewardsChannelInteractions",
                "v1",
                "offers",
                "search"
              ]
            },
            "description": "Converted from ReadyAPI REST request",
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          }
        },
        {
          "name": "Mobiliser - accounts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://mobile.sterbcroyalbank.com/ps/mobiliser/RewardsChannelInteractions/v1/loyalty/profile/accounts",
              "protocol": "https",
              "host": [
                "mobile",
                "sterbcroyalbank",
                "com"
              ],
              "path": [
                "ps",
                "mobiliser",
                "RewardsChannelInteractions",
                "v1",
                "loyalty",
                "profile",
                "accounts"
              ]
            },
            "description": "Converted from ReadyAPI REST request"
          }
        },
        {
          "name": "Mobiliser - summary",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://mobile.sterbcroyalbank.com/ps/mobiliser/RewardsChannelInteractions/v1/offers/commission/summary",
              "protocol": "https",
              "host": [
                "mobile",
                "sterbcroyalbank",
                "com"
              ],
              "path": [
                "ps",
                "mobiliser",
                "RewardsChannelInteractions",
                "v1",
                "offers",
                "commission",
                "summary"
              ]
            },
            "description": "Converted from ReadyAPI REST request"
          }
        },
        {
          "name": "PVQ Encrypt - encrypt",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://crosswordencrypter.apps.cf2.devfg.rbc.com/api/crossword/v1/encrypt",
              "protocol": "https",
              "host": [
                "crosswordencrypter",
                "apps",
                "cf2",
                "devfg",
                "rbc",
                "com"
              ],
              "path": [
                "api",
                "crossword",
                "v1",
                "encrypt"
              ]
            },
            "description": "Converted from ReadyAPI REST request"
          }
        },
        {
          "name": "MFA - initiate",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "https://apigw.istrbc.com/ZV60/MFA-PublicService/v1/challenge/initiate",
              "protocol": "https",
              "host": [
                "apigw",
                "istrbc",
                "com"
              ],
              "path": [
                "ZV60",
                "MFA-PublicService",
                "v1",
                "challenge",
                "initiate"
              ]
            },
            "description": "Converted from ReadyAPI REST request",
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          }
        },
        {
          "name": "MFA - validate",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "https://apigw.istrbc.com/ZV60/MFA-PublicService/v1/challenge/validate",
              "protocol": "https",
              "host": [
                "apigw",
                "istrbc",
                "com"
              ],
              "path": [
                "ZV60",
                "MFA-PublicService",
                "v1",
                "challenge",
                "validate"
              ]
            },
            "description": "Converted from ReadyAPI REST request",
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          }
        },
        {
          "name": "Mobiliser - WasitMeWasItNotMe",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "https://mobile.sterbcroyalbank.com/service/rbc/WasitMeWasItNotMe",
              "protocol": "https",
              "host": [
                "mobile",
                "sterbcroyalbank",
                "com"
              ],
              "path": [
                "service",
                "rbc",
                "WasitMeWasItNotMe"
              ]
            },
            "description": "Converted from ReadyAPI REST request",
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "xml"
                }
              }
            }
          }
        },
        {
          "name": "Mobiliser - PVQValidation",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "https://mobile.sterbcroyalbank.com/service/rbc/PVQValidation",
              "protocol": "https",
              "host": [
                "mobile",
                "sterbcroyalbank",
                "com"
              ],
              "path": [
                "service",
                "rbc",
                "PVQValidation"
              ]
            },
            "description": "Converted from ReadyAPI REST request",
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "xml"
                }
              }
            }
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global pre-request script",
          "// This script runs before every request in the collection",
          "",
          "// Set up common headers",
          "if (!pm.request.headers.has('Content-Type')) {",
          "    pm.request.headers.add({key: 'Content-Type', value: 'application/json'});",
          "}",
          "",
          "// Set up authentication if needed",
          "if (pm.environment.get('AccessToken')) {",
          "    pm.request.headers.add({key: 'Authorization', value: `Bearer ${pm.environment.get('AccessToken')}`});",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test script",
          "// This script runs after every request in the collection",
          "",
          "// Log response time",
          "console.log(`Response time: ${pm.response.responseTime}ms`);",
          "",
          "// Check for common errors",
          "if (pm.response.code === 401) {",
          "    console.error('Authentication error. Check your AccessToken.');",
          "} else if (pm.response.code === 403) {",
          "    console.error('Authorization error. Check your permissions.');",
          "} else if (pm.response.code === 500) {",
          "    console.error('Server error. Please try again later.');",
          "}"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://mobile.sterbcroyalbank.com",
      "type": "string"
    }
  ]
}